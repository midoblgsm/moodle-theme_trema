// ============================================================
// Theme Lumiere - Utility Classes & Global Overrides
// ============================================================

// -----------------------------------------------
// Glass Panel Effect
// -----------------------------------------------
.glass-panel {
    background-color: rgba(#ffffff, 0.8);
    backdrop-filter: blur(12px);
    border: 1px solid rgba(#ffffff, 0.2);
    box-shadow: $box-shadow-sm;
}

// -----------------------------------------------
// Card Hover Effect
// -----------------------------------------------
.card-hover {
    transition: all 0.3s ease;

    &:hover {
        box-shadow: $box-shadow;
        transform: translateY(-2px);
    }
}

// -----------------------------------------------
// Badges
// -----------------------------------------------
.badge {
    font-weight: 500;
    font-size: 0.75rem;
    padding: 0.3em 0.65em;
    border-radius: $border-radius-sm;
    letter-spacing: 0.01em;
}

.badge-primary,
.bg-primary {
    background-color: $primary !important;
}

.badge-outline {
    background-color: transparent;
    border: 1px solid $gray-300;
    color: $gray-700;
}

// -----------------------------------------------
// Alerts
// -----------------------------------------------
.alert {
    border: none;
    border-radius: $border-radius;
    font-size: $font-size-sm;

    &.alert-info {
        background-color: rgba($info, 0.08);
        color: darken($info, 20%);
    }

    &.alert-warning {
        background-color: rgba($warning, 0.08);
        color: darken($warning, 30%);
    }

    &.alert-danger {
        background-color: rgba($danger, 0.08);
        color: darken($danger, 10%);
    }

    &.alert-success {
        background-color: rgba($success, 0.08);
        color: darken($success, 15%);
    }
}

// -----------------------------------------------
// Forms & Inputs (global)
// -----------------------------------------------
.form-control {
    border-radius: $border-radius;
    border: 1px solid $gray-300;
    padding: 0.625rem 1rem;
    font-size: $font-size-base;
    transition: all 0.2s ease;

    &:focus {
        border-color: $primary;
        box-shadow: 0 0 0 3px rgba($primary, 0.12);
    }
}

.form-select {
    border-radius: $border-radius;
}

// Checkbox / Radio overrides
.form-check-input {
    border-radius: 0.25rem;
    border: 2px solid $gray-400;

    &:checked {
        background-color: $primary;
        border-color: $primary;
    }

    &:focus {
        box-shadow: 0 0 0 3px rgba($primary, 0.15);
    }
}

// -----------------------------------------------
// Modals / Dialogs
// -----------------------------------------------
.modal-content {
    border: none;
    border-radius: $border-radius-lg;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
}

.modal-header {
    border-bottom: 1px solid $gray-200;
    padding: 1.25rem 1.5rem;

    .modal-title {
        font-family: 'Outfit', sans-serif;
        font-weight: 600;
    }
}

.modal-body {
    padding: 1.5rem;
}

.modal-footer {
    border-top: 1px solid $gray-200;
    padding: 1rem 1.5rem;
}

// -----------------------------------------------
// Dropdowns
// -----------------------------------------------
.dropdown-menu {
    border: 1px solid $gray-200;
    border-radius: $border-radius;
    box-shadow: $box-shadow-lg;
    padding: 0.375rem;

    .dropdown-item {
        border-radius: $border-radius-sm;
        padding: 0.5rem 0.875rem;
        font-size: $font-size-sm;
        font-weight: 500;
        color: $gray-700;
        transition: all 0.15s ease;

        &:hover,
        &:focus {
            background-color: $gray-100;
            color: $gray-900;
        }

        &.active {
            background-color: rgba($primary, 0.08);
            color: $primary;
        }
    }

    .dropdown-divider {
        border-color: $gray-200;
        margin: 0.25rem 0;
    }
}

// -----------------------------------------------
// Tables
// -----------------------------------------------
.table {
    th {
        font-weight: 600;
        font-size: $font-size-sm;
        color: $gray-600;
        border-bottom-width: 2px;
        border-color: $gray-200;
    }

    td {
        border-color: $gray-200;
        padding: 0.875rem;
        vertical-align: middle;
    }

    &.table-striped {
        tbody tr:nth-of-type(odd) {
            background-color: rgba($gray-100, 0.5);
        }
    }

    &.table-hover {
        tbody tr:hover {
            background-color: $gray-100;
        }
    }
}

// -----------------------------------------------
// Scrollbar styling
// -----------------------------------------------
::-webkit-scrollbar {
    width: 0.5rem;
    height: 0.5rem;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background-color: $gray-300;
    border-radius: 1rem;

    &:hover {
        background-color: $gray-400;
    }
}

// -----------------------------------------------
// Accessibility: Focus ring
// -----------------------------------------------
*:focus-visible {
    outline: 2px solid $primary;
    outline-offset: 2px;
    border-radius: 0.25rem;
}

// -----------------------------------------------
// Toast / Notifications
// -----------------------------------------------
.toast {
    border: none;
    border-radius: $border-radius;
    box-shadow: $box-shadow-lg;
}

// -----------------------------------------------
// Loading / Skeleton
// -----------------------------------------------
@keyframes lumiere-shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
}

.lumiere-skeleton {
    background: linear-gradient(90deg, $gray-200 25%, $gray-100 50%, $gray-200 75%);
    background-size: 200% 100%;
    animation: lumiere-shimmer 1.5s ease-in-out infinite;
    border-radius: $border-radius;
}

// -----------------------------------------------
// Page wrapper adjustments
// -----------------------------------------------
#page-wrapper {
    background-color: $gray-100;
}

#page-content {
    padding-top: 1.5rem;
}

// Wider content area
.pagelayout-standard #page.drawers,
.pagelayout-course #page.drawers,
.pagelayout-mydashboard #page.drawers {
    .main-inner {
        max-width: 80rem;
        margin: 0 auto;
    }
}

// -----------------------------------------------
// Moodle-specific overrides
// -----------------------------------------------

// File picker
.filepicker-filelist {
    border-radius: $border-radius;
    border: 2px dashed $gray-300;
}

// Atto editor
.editor_atto_wrap {
    border-radius: $border-radius;
    border-color: $gray-300;

    .editor_atto_toolbar {
        border-bottom-color: $gray-200;
        background-color: $gray-100;
    }
}

// Activity completion checkboxes
.completioncheck {
    .icon {
        color: $success;
    }
}

// Grading table
.gradeparent table {
    border-radius: $border-radius;
    overflow: hidden;
}
