// ============================================================
// Lumiere Design System - Component Overrides for Trema
// Applied after all other Trema styles to bring the Lumiere
// modern design language: Inter + Outfit fonts, indigo primary,
// borderless cards with shadows, and smooth transitions.
// ============================================================

// -----------------------------------------------
// 1. TYPOGRAPHY
// -----------------------------------------------

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    color: $gray-900;
    letter-spacing: -0.01em;
}

h1, h2, h3, h4, h5, h6,
.h1, .h2, .h3, .h4, .h5, .h6 {
    font-family: 'Outfit', 'Inter', sans-serif;
    font-weight: 600;
    letter-spacing: -0.025em;
    color: $gray-900;
}

h1, .h1 { font-weight: 700; }
h2, .h2 { font-weight: 600; }

#page-header h1,
.page-header-headings h1 {
    font-family: 'Outfit', sans-serif;
    font-weight: 700;
    font-size: 1.875rem;
    letter-spacing: -0.03em;
}

.course-content .section .sectionname,
.course-content .section .section-title {
    font-family: 'Outfit', sans-serif;
    font-weight: 600;
}

.breadcrumb-item {
    font-size: $font-size-sm;
}

.text-muted,
.text-secondary {
    color: $gray-500 !important;
}

::selection {
    background-color: rgba($primary, 0.15);
    color: $primary;
}

// -----------------------------------------------
// 2. NAVIGATION & NAVBAR
// -----------------------------------------------

.navbar {
    background-color: #ffffff !important;
    border-bottom: 1px solid $gray-300;
    box-shadow: none;
    backdrop-filter: blur(12px);
    min-height: 4rem;

    .navbar-brand {
        font-family: 'Outfit', sans-serif;
        font-weight: 700;
        font-size: 1.25rem;
        color: $gray-900;
        letter-spacing: -0.02em;

        .logo img {
            max-height: 2rem;
        }
    }
}

.site-name {
    font-family: 'Outfit', sans-serif;
    font-weight: 700;
}

.navbar .nav-link,
.navbar .navbar-nav .nav-link {
    color: $gray-600;
    font-weight: 500;
    font-size: $font-size-sm;
    padding: 0.5rem 0.875rem;
    border-radius: $border-radius;
    transition: all 0.2s ease;

    &:hover,
    &:focus {
        color: $gray-900;
        background-color: $gray-200;
    }

    &.active {
        color: $primary;
        background-color: rgba($primary, 0.08);
    }
}

// Navigation Drawer (Sidebar)
.drawer {
    background-color: #ffffff;
    border-right: 1px solid $gray-300;

    .list-group-item {
        border: none;
        padding: 0.625rem 1rem;
        margin: 0.125rem 0.75rem;
        border-radius: $border-radius;
        font-weight: 500;
        font-size: $font-size-sm;
        color: $gray-600;
        transition: all 0.2s ease;

        &:hover {
            background-color: $gray-200;
            color: $gray-900;
        }

        &.active,
        &[aria-current="true"] {
            background-color: rgba($primary, 0.08);
            color: $primary;
            font-weight: 600;

            .icon {
                color: $primary;
            }
        }
    }

    .icon {
        width: 1.25rem;
        height: 1.25rem;
        margin-right: 0.75rem;
        color: $gray-500;
        font-size: 1.125rem;
    }
}

[data-region="drawer"] {
    background-color: #ffffff;
    border-right: 1px solid $gray-300;
}

// Course Index in Drawer
.courseindex {
    .courseindex-item {
        border-radius: $border-radius-sm;
        margin-bottom: 0.125rem;

        &:hover {
            background-color: $gray-200;
        }
    }

    .courseindex-section-title {
        font-family: 'Outfit', sans-serif;
        font-weight: 600;
        font-size: $font-size-sm;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        color: $gray-500;
    }
}

// User Menu
.usermenu {
    .dropdown-toggle {
        border-radius: 50rem;
        padding: 0.25rem;
        border: 2px solid transparent;
        transition: border-color 0.2s ease;

        &:hover {
            border-color: rgba($primary, 0.2);
        }
    }

    .avatar {
        width: 2.25rem;
        height: 2.25rem;
        border-radius: 50%;
    }
}

// Popover Notifications
.popover-region {
    .popover-region-toggle {
        position: relative;

        .count-container {
            background-color: $danger;
            border: 2px solid #ffffff;
            border-radius: 50%;
            min-width: 1.125rem;
            height: 1.125rem;
            font-size: 0.625rem;
            font-weight: 700;
        }
    }
}

// Secondary Navigation (tabs)
.secondary-navigation {
    .moremenu .nav-tabs {
        border-bottom: 2px solid $gray-300;

        .nav-link {
            color: $gray-600;
            font-weight: 500;
            border: none;
            border-bottom: 2px solid transparent;
            margin-bottom: -2px;
            padding: 0.75rem 1rem;
            border-radius: 0;

            &:hover {
                color: $gray-900;
                border-bottom-color: $gray-400;
            }

            &.active {
                color: $primary;
                border-bottom-color: $primary;
                font-weight: 600;
            }
        }
    }
}

// -----------------------------------------------
// 3. CARDS
// -----------------------------------------------

.card {
    background-color: #ffffff;
    border: none;
    border-radius: $border-radius-lg;
    box-shadow: $box-shadow-sm;
    transition: all 0.3s ease;
    overflow: hidden;

    &:hover {
        box-shadow: $box-shadow;
    }

    .card-header {
        background-color: transparent;
        border-bottom: 1px solid $gray-200;
        padding: $card-spacer-y $card-spacer-x;
        font-family: 'Outfit', sans-serif;
        font-weight: 600;
    }

    .card-title {
        font-family: 'Outfit', sans-serif;
        font-weight: 600;
        font-size: 1.125rem;
        margin-bottom: 0.25rem;
    }

    .card-body {
        padding: $card-spacer-y $card-spacer-x;
    }

    .card-footer {
        background-color: transparent;
        border-top: 1px solid $gray-200;
        padding: 0.875rem $card-spacer-x;
    }
}

// Course Cards
.coursebox {
    border: none;
    border-radius: $border-radius-lg;
    background-color: #ffffff;
    box-shadow: $box-shadow-sm;
    transition: all 0.3s ease;
    overflow: hidden;

    &:hover {
        box-shadow: $box-shadow-lg;
        transform: translateY(-2px);
    }

    .info {
        padding: 1.25rem;
    }

    .coursename a {
        font-family: 'Outfit', sans-serif;
        font-weight: 600;
        font-size: 1.125rem;
        color: $gray-900;
        transition: color 0.2s ease;

        &:hover {
            color: $primary;
            text-decoration: none;
        }
    }

    .teachers,
    .course-description {
        color: $gray-500;
        font-size: $font-size-sm;
    }
}

// Course card images
.courseimage {
    border-radius: $border-radius-lg $border-radius-lg 0 0;
    overflow: hidden;

    img {
        width: 100%;
        height: 12rem;
        object-fit: cover;
        transition: transform 0.5s ease;
    }

    &:hover img {
        transform: scale(1.05);
    }
}

// Dashboard Course Overview Cards
.dashboard-card {
    border: none;
    border-radius: $border-radius-lg;
    box-shadow: $box-shadow-sm;
    overflow: hidden;
    transition: all 0.3s ease;

    &:hover {
        box-shadow: $box-shadow-lg;
        transform: translateY(-2px);
    }

    .dashboard-card-img {
        height: 8rem;
        object-fit: cover;
    }

    .dashboard-card-deck .dashboard-card-footer {
        border-top: 1px solid $gray-200;
    }

    .course-info-container {
        padding: 1rem 1.25rem;
    }

    .coursename {
        font-family: 'Outfit', sans-serif;
        font-weight: 600;
        color: $gray-900;
    }
}

// Block Cards (Sidebar blocks)
.block {
    border: none;
    border-radius: $border-radius-lg;
    box-shadow: $box-shadow-sm;
    background-color: #ffffff;
    margin-bottom: 1rem;

    .card-body {
        padding: 1.25rem;
    }

    .card-title {
        font-family: 'Outfit', sans-serif;
        font-weight: 600;
        font-size: 1rem;
    }
}

// Activity Cards
.activity-item {
    border-radius: $border-radius;
    padding: 0.875rem 1rem;
    margin-bottom: 0.25rem;
    transition: background-color 0.2s ease;

    &:hover {
        background-color: $gray-100;
    }

    .activityname a {
        font-weight: 500;
        color: $gray-900;

        &:hover {
            color: $primary;
        }
    }

    .activity-icon {
        width: 2.5rem;
        height: 2.5rem;
        border-radius: $border-radius;
        display: flex;
        align-items: center;
        justify-content: center;
    }
}

// -----------------------------------------------
// 4. BUTTONS
// -----------------------------------------------

.btn {
    font-weight: 500;
    font-size: $btn-font-size;
    border-radius: $border-radius;
    padding: $btn-padding-y $btn-padding-x;
    transition: all 0.2s ease;
    letter-spacing: -0.01em;
    border: none;
    box-shadow: none;

    &:focus,
    &:focus-visible {
        box-shadow: 0 0 0 3px rgba($primary, 0.2);
        outline: none;
    }
}

.btn-primary {
    background-color: $primary;
    color: #ffffff;
    box-shadow: 0 1px 3px 0 rgba($primary, 0.3);

    &:hover,
    &:focus {
        background-color: darken($primary, 8%);
        box-shadow: 0 4px 6px -1px rgba($primary, 0.3);
        transform: translateY(-1px);
    }

    &:active {
        transform: translateY(0);
        box-shadow: 0 1px 2px 0 rgba($primary, 0.3);
    }
}

.btn-secondary {
    background-color: $gray-200;
    color: $gray-900;
    border: none;

    &:hover,
    &:focus {
        background-color: $gray-300;
        color: $gray-900;
    }
}

.btn-outline-primary {
    color: $primary;
    border: 1px solid $gray-300;
    background-color: transparent;

    &:hover {
        background-color: rgba($primary, 0.05);
        border-color: $primary;
        color: $primary;
    }
}

.btn-outline-secondary {
    color: $gray-600;
    border: 1px solid $gray-300;
    background-color: transparent;

    &:hover {
        background-color: $gray-100;
        color: $gray-900;
    }
}

.btn-danger {
    background-color: $danger;
    color: #ffffff;

    &:hover {
        background-color: darken($danger, 8%);
    }
}

.btn-link {
    color: $primary;
    font-weight: 500;
    text-decoration: none;

    &:hover {
        color: darken($primary, 10%);
        text-decoration: underline;
    }
}

.btn-icon,
.btn-ghost {
    background: transparent;
    color: $gray-500;
    border: none;
    border-radius: $border-radius;

    &:hover {
        background-color: $gray-200;
        color: $gray-900;
    }
}

.btn-sm {
    font-size: 0.8125rem;
    padding: 0.375rem 0.875rem;
    border-radius: $border-radius-sm;
}

.btn-lg {
    font-size: 1rem;
    padding: 0.75rem 1.75rem;
    border-radius: $border-radius-lg;
}

.action-menu-trigger .btn {
    border-radius: $border-radius;
    color: $gray-500;

    &:hover {
        background-color: $gray-200;
        color: $gray-900;
    }
}

#page-header .btn[data-toggle="editswitch"],
.editswitch .btn {
    border-radius: $border-radius-pill;
    font-weight: 500;
}

// -----------------------------------------------
// 5. DASHBOARD
// -----------------------------------------------

// Welcome Banner (Lumiere style)
.lumiere-welcome-banner {
    position: relative;
    border-radius: 1.5rem;
    background: $primary;
    overflow: hidden;
    color: #ffffff;
    padding: 2.5rem;
    margin-bottom: 2rem;
    box-shadow: 0 4px 6px -1px rgba($primary, 0.2);

    .welcome-content {
        position: relative;
        z-index: 2;
        max-width: 36rem;
    }

    .welcome-heading {
        font-family: 'Outfit', sans-serif;
        font-weight: 700;
        font-size: 1.875rem;
        margin-bottom: 0.5rem;
        letter-spacing: -0.03em;
    }

    .welcome-subtitle {
        color: rgba(#ffffff, 0.85);
        font-size: 1.125rem;
        line-height: 1.6;
        margin-bottom: 1.5rem;
    }

    .welcome-cta {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        background-color: #ffffff;
        color: $primary;
        border-radius: $border-radius-pill;
        padding: 0.625rem 1.5rem;
        font-weight: 600;
        font-size: $font-size-sm;
        text-decoration: none;
        transition: all 0.2s ease;
        box-shadow: none;

        &:hover {
            background-color: rgba(#ffffff, 0.9);
            transform: translateY(-1px);
            text-decoration: none;
            color: $primary;
        }

        .fa, .icon {
            font-size: 0.875rem;
        }
    }

    .welcome-bg-shape {
        position: absolute;
        right: 0;
        top: 0;
        bottom: 0;
        width: 50%;
        opacity: 0.15;
        pointer-events: none;

        svg {
            width: 100%;
            height: 100%;
        }
    }
}

// Dashboard Blocks Layout
#page-my-index {
    .block-region {
        .block {
            border: none;
            border-radius: $border-radius-lg;
            box-shadow: $box-shadow-sm;
            margin-bottom: 1rem;
        }
    }
}

// Course Overview Block
.block_myoverview {
    .card-body {
        padding: 0;
    }

    .dropdown-menu {
        border-radius: $border-radius;
        border: 1px solid $gray-300;
        box-shadow: $box-shadow-lg;
    }

    .course-summaryitem {
        border: none;
        border-radius: $border-radius-lg;
        overflow: hidden;
        box-shadow: $box-shadow-sm;
        transition: all 0.3s ease;
        margin-bottom: 1rem;

        &:hover {
            box-shadow: $box-shadow;
            transform: translateY(-2px);
        }

        .course-summaryitem-img {
            height: 8rem;
            object-fit: cover;
        }

        .course-summaryitem-content {
            padding: 1rem 1.25rem;
        }

        .course-summaryitem-title a {
            font-family: 'Outfit', sans-serif;
            font-weight: 600;
            color: $gray-900;
            font-size: 1rem;

            &:hover {
                color: $primary;
                text-decoration: none;
            }
        }
    }
}

// Timeline Block
.block_timeline {
    .event-list-item {
        padding: 0.875rem 0;
        border-bottom: 1px solid $gray-200;

        &:last-child {
            border-bottom: none;
        }
    }

    .event-name a {
        font-weight: 500;
        color: $gray-900;

        &:hover {
            color: $primary;
        }
    }

    .event-date {
        font-size: $font-size-sm;
        color: $gray-500;
    }

    .event-overdue {
        .event-date {
            color: $danger;
            font-weight: 600;
        }
    }
}

// Recently Accessed Courses Block
.block_recentlyaccessedcourses {
    .course-info-container {
        padding: 0.875rem 1rem;
    }

    .coursename {
        font-family: 'Outfit', sans-serif;
        font-weight: 600;
        font-size: $font-size-sm;
    }
}

// Progress Bars
.progress {
    height: 0.5rem;
    border-radius: 1rem;
    background-color: $gray-200;
    overflow: hidden;

    .progress-bar {
        background-color: $primary;
        border-radius: 1rem;
        transition: width 0.6s ease;
    }
}

.course-progress {
    .progress {
        height: 0.375rem;
    }

    .progress-text {
        font-size: 0.75rem;
        font-weight: 500;
        color: $gray-500;
    }
}

// -----------------------------------------------
// 6. LOGIN PAGE
// -----------------------------------------------

// Lumiere custom login wrapper
.lumiere-login-wrapper {
    display: flex;
    min-height: 100vh;
    width: 100%;
    background-color: $gray-100;
}

.lumiere-login-hero {
    display: none;
    width: 50%;
    background-color: $primary;
    position: relative;
    overflow: hidden;
    align-items: center;
    justify-content: center;
    padding: 3rem;

    @media (min-width: 992px) {
        display: flex;
    }

    .hero-content {
        position: relative;
        z-index: 2;
        max-width: 28rem;
        color: #ffffff;
    }

    .hero-icon {
        width: 3rem;
        height: 3rem;
        border-radius: $border-radius;
        background-color: rgba(#ffffff, 0.2);
        backdrop-filter: blur(8px);
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 2rem;

        .fa, .icon {
            font-size: 1.5rem;
            color: #ffffff;
        }
    }

    .hero-heading {
        font-family: 'Outfit', sans-serif;
        font-weight: 700;
        font-size: 3rem;
        line-height: 1.1;
        margin-bottom: 1.5rem;
        letter-spacing: -0.03em;
    }

    .hero-text {
        font-size: 1.125rem;
        color: rgba(#ffffff, 0.8);
        line-height: 1.7;
    }

    .hero-bg {
        position: absolute;
        inset: 0;
        pointer-events: none;

        img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.3;
            mix-blend-mode: overlay;
        }

        &::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, $primary, transparent);
            opacity: 0.8;
        }
    }
}

.lumiere-login-form {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem;

    @media (min-width: 992px) {
        width: 50%;
    }

    .login-form-inner {
        max-width: 28rem;
        width: 100%;
    }

    .mobile-logo {
        display: flex;
        width: 3rem;
        height: 3rem;
        border-radius: $border-radius;
        background-color: $primary;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1.5rem;

        @media (min-width: 992px) {
            display: none;
        }

        .fa, .icon {
            font-size: 1.5rem;
            color: #ffffff;
        }
    }

    .login-heading {
        font-family: 'Outfit', sans-serif;
        font-weight: 700;
        font-size: 1.875rem;
        color: $gray-900;
        margin-bottom: 0.5rem;

        @media (max-width: 991px) {
            text-align: center;
        }
    }

    .login-subtitle {
        color: $gray-500;
        margin-bottom: 2rem;

        @media (max-width: 991px) {
            text-align: center;
        }
    }
}

// -----------------------------------------------
// 7. COURSES
// -----------------------------------------------

#page-course-index,
#page-course-search {
    .page-header-headings h1 {
        font-family: 'Outfit', sans-serif;
        font-weight: 700;
        font-size: 1.875rem;
    }
}

// Course Card Grid
.course-card-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(20rem, 1fr));
    gap: 1.5rem;
}

// Moodle Course Listing Overrides
.courses .coursebox {
    border: none;
    border-radius: $border-radius-lg;
    background-color: #ffffff;
    box-shadow: $box-shadow-sm;
    margin-bottom: 1rem;
    padding: 0;
    overflow: hidden;

    &.odd {
        background-color: #ffffff;
    }

    .info {
        padding: 1.25rem 1.5rem;
    }

    .content {
        padding: 0 1.5rem 1.25rem;

        .summary {
            color: $gray-500;
            font-size: $font-size-sm;
        }
    }
}

// Enrolment Page
#page-enrol-index {
    .generalbox {
        border: none;
        border-radius: $border-radius-lg;
        background-color: #ffffff;
        box-shadow: $box-shadow-sm;
        padding: 2rem;
    }
}

// -----------------------------------------------
// 8. CALENDAR
// -----------------------------------------------

.block_calendar_month {
    .card-body {
        padding: 1rem;
    }

    .calendarwrapper {
        border-radius: $border-radius;
    }
}

.calendartable {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0.25rem;

    th {
        color: $gray-500;
        font-weight: 500;
        font-size: 0.75rem;
        text-transform: uppercase;
        text-align: center;
        padding: 0.375rem;
        letter-spacing: 0.05em;
    }

    td {
        text-align: center;
        padding: 0;

        a, span {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 2.25rem;
            height: 2.25rem;
            border-radius: 50%;
            font-size: $font-size-sm;
            color: $gray-900;
            transition: all 0.2s ease;
            margin: 0 auto;
        }

        a:hover {
            background-color: $gray-200;
            text-decoration: none;
            color: $gray-900;
        }

        &.today {
            a, span {
                background-color: $primary;
                color: #ffffff;
                font-weight: 700;

                &:hover {
                    background-color: $primary;
                }
            }
        }

        &.hasevent {
            a, span {
                position: relative;

                &::after {
                    content: '';
                    position: absolute;
                    bottom: 0.125rem;
                    left: 50%;
                    transform: translateX(-50%);
                    width: 0.25rem;
                    height: 0.25rem;
                    border-radius: 50%;
                    background-color: $primary;
                }
            }
        }

        &.duration_deadline {
            a, span {
                border: 1px solid $danger;
                color: $danger;
            }
        }
    }
}

#page-calendar-view {
    .calendarwrapper {
        background-color: #ffffff;
        border-radius: $border-radius-lg;
        box-shadow: $box-shadow-sm;
        padding: 1.5rem;
    }

    .calendar-controls {
        margin-bottom: 1rem;

        .current {
            font-family: 'Outfit', sans-serif;
            font-weight: 600;
            font-size: 1.25rem;
        }
    }
}

.event {
    border-radius: $border-radius;
    padding: 0.875rem 1rem;
    margin-bottom: 0.5rem;
    border: none;
    transition: background-color 0.2s ease;

    .event-name {
        font-weight: 600;
        font-size: $font-size-sm;
    }

    .event-description {
        font-size: $font-size-sm;
        color: $gray-500;
    }

    &.event-course {
        background-color: rgba($primary, 0.06);
        border-left: 3px solid $primary;
    }

    &.event-site {
        background-color: rgba($info, 0.06);
        border-left: 3px solid $info;
    }

    &.event-user {
        background-color: rgba($success, 0.06);
        border-left: 3px solid $success;
    }
}

// -----------------------------------------------
// 9. FOOTER
// -----------------------------------------------

#page-footer,
.footer {
    background-color: #ffffff;
    border-top: 1px solid $gray-300;
    padding: 1.5rem 0;
    margin-top: 3rem;
    font-size: $font-size-sm;
    color: $gray-500;

    a {
        color: $gray-600;
        font-weight: 500;
        transition: color 0.2s ease;

        &:hover {
            color: $primary;
            text-decoration: none;
        }
    }

    .logininfo {
        font-size: $font-size-sm;
    }

    .footnote {
        color: $gray-500;
        font-size: $font-size-sm;
        margin-top: 0.5rem;
    }
}

.footer-content-debugging,
.footer-content-popover {
    font-size: 0.75rem;
}

// -----------------------------------------------
// 10. UTILITIES & GLOBAL OVERRIDES
// -----------------------------------------------

// Glass Panel Effect
.glass-panel {
    background-color: rgba(#ffffff, 0.8);
    backdrop-filter: blur(12px);
    border: 1px solid rgba(#ffffff, 0.2);
    box-shadow: $box-shadow-sm;
}

// Card Hover Effect
.card-hover {
    transition: all 0.3s ease;

    &:hover {
        box-shadow: $box-shadow;
        transform: translateY(-2px);
    }
}

// Badges
.badge {
    font-weight: 500;
    font-size: 0.75rem;
    padding: 0.3em 0.65em;
    border-radius: $border-radius-sm;
    letter-spacing: 0.01em;
}

.badge-outline {
    background-color: transparent;
    border: 1px solid $gray-300;
    color: $gray-700;
}

// Alerts
.alert {
    border: none;
    border-radius: $border-radius;
    font-size: $font-size-sm;

    &.alert-info {
        background-color: rgba($info, 0.08);
        color: darken($info, 20%);
    }

    &.alert-warning {
        background-color: rgba($warning, 0.08);
        color: darken($warning, 30%);
    }

    &.alert-danger {
        background-color: rgba($danger, 0.08);
        color: darken($danger, 10%);
    }

    &.alert-success {
        background-color: rgba($success, 0.08);
        color: darken($success, 15%);
    }
}

// Forms & Inputs (global)
.form-control {
    border-radius: $border-radius;
    border: 1px solid $gray-300;
    padding: 0.625rem 1rem;
    font-size: $font-size-base;
    transition: all 0.2s ease;

    &:focus {
        border-color: $primary;
        box-shadow: 0 0 0 3px rgba($primary, 0.12);
    }
}

.form-select {
    border-radius: $border-radius;
}

.form-check-input {
    border-radius: 0.25rem;
    border: 2px solid $gray-400;

    &:checked {
        background-color: $primary;
        border-color: $primary;
    }

    &:focus {
        box-shadow: 0 0 0 3px rgba($primary, 0.15);
    }
}

// Modals / Dialogs
.modal-content {
    border: none;
    border-radius: $border-radius-lg;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
}

.modal-header {
    border-bottom: 1px solid $gray-200;
    padding: 1.25rem 1.5rem;

    .modal-title {
        font-family: 'Outfit', sans-serif;
        font-weight: 600;
    }
}

.modal-body {
    padding: 1.5rem;
}

.modal-footer {
    border-top: 1px solid $gray-200;
    padding: 1rem 1.5rem;
}

// Dropdowns
.dropdown-menu {
    border: 1px solid $gray-200;
    border-radius: $border-radius;
    box-shadow: $box-shadow-lg;
    padding: 0.375rem;

    .dropdown-item {
        border-radius: $border-radius-sm;
        padding: 0.5rem 0.875rem;
        font-size: $font-size-sm;
        font-weight: 500;
        color: $gray-700;
        transition: all 0.15s ease;

        &:hover,
        &:focus {
            background-color: $gray-100;
            color: $gray-900;
        }

        &.active {
            background-color: rgba($primary, 0.08);
            color: $primary;
        }
    }

    .dropdown-divider {
        border-color: $gray-200;
        margin: 0.25rem 0;
    }
}

// Tables
.table {
    th {
        font-weight: 600;
        font-size: $font-size-sm;
        color: $gray-600;
        border-bottom-width: 2px;
        border-color: $gray-200;
    }

    td {
        border-color: $gray-200;
        padding: 0.875rem;
        vertical-align: middle;
    }

    &.table-striped {
        tbody tr:nth-of-type(odd) {
            background-color: rgba($gray-100, 0.5);
        }
    }

    &.table-hover {
        tbody tr:hover {
            background-color: $gray-100;
        }
    }
}

// Scrollbar styling
::-webkit-scrollbar {
    width: 0.5rem;
    height: 0.5rem;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background-color: $gray-300;
    border-radius: 1rem;

    &:hover {
        background-color: $gray-400;
    }
}

// Accessibility: Focus ring
*:focus-visible {
    outline: 2px solid $primary;
    outline-offset: 2px;
    border-radius: 0.25rem;
}

// Toast / Notifications
.toast {
    border: none;
    border-radius: $border-radius;
    box-shadow: $box-shadow-lg;
}

// Loading / Skeleton
@keyframes lumiere-shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
}

.lumiere-skeleton {
    background: linear-gradient(90deg, $gray-200 25%, $gray-100 50%, $gray-200 75%);
    background-size: 200% 100%;
    animation: lumiere-shimmer 1.5s ease-in-out infinite;
    border-radius: $border-radius;
}

// Page wrapper adjustments
#page-wrapper {
    background-color: $gray-100;
}

#page-content {
    padding-top: 1.5rem;
}

// Wider content area
.pagelayout-standard #page.drawers,
.pagelayout-course #page.drawers,
.pagelayout-mydashboard #page.drawers {
    .main-inner {
        max-width: 80rem;
        margin: 0 auto;
    }
}

// Moodle-specific overrides

// File picker
.filepicker-filelist {
    border-radius: $border-radius;
    border: 2px dashed $gray-300;
}

// Atto editor
.editor_atto_wrap {
    border-radius: $border-radius;
    border-color: $gray-300;

    .editor_atto_toolbar {
        border-bottom-color: $gray-200;
        background-color: $gray-100;
    }
}

// Activity completion checkboxes
.completioncheck {
    .icon {
        color: $success;
    }
}

// Grading table
.gradeparent table {
    border-radius: $border-radius;
    overflow: hidden;
}

// -----------------------------------------------
// 11. CSS CUSTOM PROPERTIES & TRANSITIONS
// -----------------------------------------------

:root {
    --lumiere-bg: #{$gray-100};
    --lumiere-fg: #{$gray-900};
    --lumiere-card: #ffffff;
    --lumiere-card-fg: #{$gray-900};
    --lumiere-primary: #{$primary};
    --lumiere-primary-fg: #ffffff;
    --lumiere-secondary: #{$gray-200};
    --lumiere-secondary-fg: #{$gray-900};
    --lumiere-muted: #{$gray-200};
    --lumiere-muted-fg: #{$gray-500};
    --lumiere-accent: #{$gray-200};
    --lumiere-accent-fg: #{$gray-900};
    --lumiere-destructive: #{$danger};
    --lumiere-border: #{$gray-300};
    --lumiere-input: #{$gray-300};
    --lumiere-ring: #{$primary};
    --lumiere-radius: #{$border-radius};

    // Chart colors
    --lumiere-chart-1: #{$primary};
    --lumiere-chart-2: #10b981;
    --lumiere-chart-3: #334155;
    --lumiere-chart-4: #d4a843;
    --lumiere-chart-5: #e97a3b;

    // Sidebar tokens
    --lumiere-sidebar-bg: #ffffff;
    --lumiere-sidebar-fg: #{$gray-900};
    --lumiere-sidebar-primary: #{$primary};
    --lumiere-sidebar-border: #{$gray-300};
}

// Smooth page transitions
#page-content {
    animation: lumiere-fadeIn 0.3s ease-out;
}

@keyframes lumiere-fadeIn {
    from {
        opacity: 0;
        transform: translateY(0.5rem);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

// Print styles
@media print {
    .navbar,
    .drawer,
    #page-footer,
    .lumiere-welcome-banner {
        display: none !important;
    }

    body {
        background: #ffffff !important;
    }

    .card {
        box-shadow: none !important;
        border: 1px solid #dee2e6 !important;
    }
}
